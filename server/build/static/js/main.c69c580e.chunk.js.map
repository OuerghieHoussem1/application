{"version":3,"sources":["api/index.js","assets/logoFst.png","assets/logoUtm.png","assets/logoJPO.png","pages/Main.js","actions/reservations.js","pages/Reservation.js","pages/CheckReservations.js","App.js","reducers/reservation.js","reducers/checkEmail.js","reducers/allReservations.js","reducers/index.js","index.js"],"names":["newReservation","reservationData","axios","post","url","checkEmail","email","acceptReservation","code","refuseReservation","Main","history","useHistory","dispatch","useDispatch","useState","name","setName","setEmail","etablissement","setetablissement","classe","setclasse","vaccin","setVaccin","verificationVaccin","setVerifVaccine","checkEmailFun","value","a","api","data","type","payload","response","error","etat","useSelector","state","Container","style","paddingTop","className","width","height","color","display","justifyContent","marginRight","src","logoJPO","Paper","minWidth","backgroundColor","Grid","container","padding","item","xs","onChange","e","target","border","marginTop","borderBottom","placeholder","length","fontSize","alignSelf","used","flexDirection","alignItems","Checkbox","onClick","checked","files","form","FormData","append","push","console","message","disabled","fontWeight","borderRadius","Reservation","reservation","spacing","logoFst","logoUtm","Box","CheckReservations","allReservations","useEffect","log","StyledTableCell","styled","TableCell","theme","tableCellClasses","head","palette","common","black","white","body","StyledTableRow","TableRow","action","hover","TableContainer","component","Table","sx","TableHead","align","TableBody","map","row","index","scope","Button","certeficate","vaccineCerteficate","window","open","focus","accepted","App","path","exact","val","combineReducers","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c69c580e.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\nconst url = \"/\"\r\n\r\nexport const newReservation = (reservationData) => axios.post(url+\"newReservation\",reservationData)\r\nexport const checkEmail = (email) => axios.post(url+\"checkEmail\",email)\r\nexport const getReservations = () => axios.post(url+\"getReservations\")\r\nexport const acceptReservation = (code) => axios.post(url+\"acceptReservation\",code)\r\nexport const refuseReservation = (code) => axios.post(url+\"refuseReservation\",code)","export default __webpack_public_path__ + \"static/media/logoFst.b7eafe59.png\";","export default __webpack_public_path__ + \"static/media/logoUtm.0b5808c7.png\";","export default __webpack_public_path__ + \"static/media/logoJPO.7f2a29c3.png\";","import React,{useState} from 'react'   \r\n\r\nimport {useDispatch} from \"react-redux\"\r\n\r\nimport {newReservation,checkEmail} from \"../actions/reservations\"\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nimport Paper from \"@mui/material/Paper\"\r\nimport { Box } from '@mui/system';\r\nimport Container from '@mui/material/Container';\r\n\r\nimport logoFst from \"../assets/logoFst.png\"\r\nimport logoUtm from \"../assets/logoUtm.png\"\r\nimport logoJPO from \"../assets/logoJPO.png\" \r\nimport { Checkbox, Grid} from '@mui/material';\r\n\r\n\r\nexport default function Main() {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch()\r\n\r\n    const [name, setName] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [etablissement, setetablissement] = useState(\"\")\r\n    const [classe, setclasse] = useState(\"\")\r\n    const [vaccin, setVaccin] = useState(false)\r\n    const [verificationVaccin,setVerifVaccine] = useState(\"\")\r\n\r\n    const checkEmailFun = (value) => {\r\n        setEmail(value)\r\n        dispatch(checkEmail({email:value}))\r\n    }\r\n\r\n    \r\n    const sendToDataBase = () => {\r\n        const form = new FormData()\r\n        form.append(\"files[]\",verificationVaccin,verificationVaccin.name)\r\n        form.append(\"name\",name)\r\n        form.append(\"email\",email)\r\n        form.append(\"etablissement\",etablissement)\r\n        form.append(\"classe\",classe)\r\n        form.append(\"vaccin\",vaccin)\r\n        dispatch(newReservation(form,history))\r\n    }\r\n\r\n    const etat = useSelector(state => state.etat)\r\n    return (\r\n\r\n        <Container style={{paddingTop:40}}>\r\n            {/* <div className=\"mainContainer\" style={{ width:\"100%\", height:\"100%\", color:\"white\", display:\"flex\",alignItems:\"center\"}}>\r\n                    <img style={{marginRight:20}}src={logoFst} width={200} height={200}/>\r\n                        <div style={{display:\"flex\", flexDirection:\"column\"}}>\r\n                            <h1 style={{fontSize:60}}>Faites votre réservation</h1>\r\n                            <h3 style={{fontSize:36}}>99 places restantes</h3>\r\n                        </div>\r\n                    <img src={logoUtm} width={200} height={200}/>\r\n            </div> */}\r\n            <div className=\"mainContainer\" style={{ width:\"100%\", height:\"100%\", color:\"white\", display:\"flex\",justifyContent:\"center\"}}>\r\n                <img style={{marginRight:20}}src={logoJPO} width={\"400vh\"}/>\r\n            </div>\r\n            <div>\r\n                {/* <Paper style={{width:\"100%\",height:496,backgroundColor:\"white\", opacity:0.74,marginTop:100}}>\r\n                    <form onSubmit={sendToDataBase} style={{display:\"flex\",flexDirection:\"column\", alignItems:\"center\"}}>\r\n                        <input onChange={(e)=>setName(e.target.value)} value={name} name=\"username\" style={{border:\"0\",marginTop:80,width:\"90%\", borderBottom: \"2px solid rgb(212, 212, 212)\"}} placeholder=\"Nom et prénom\"/>\r\n                        <input onChange={(e)=>checkEmailFun(e.target.value)} value={email} name=\"email\" style={{border:\"0\",marginTop:40,width:\"90%\", borderBottom: \"2px solid rgb(212, 212, 212)\"}} placeholder=\"Email\"/>\r\n                        {email.length>0&&<p style={{alignSelf:\"flex-start\",paddingLeft:54,paddingTop:10, color:etat.used?\"red\":\"green\"}}>{etat.code}.</p>}\r\n                        <button disabled={etat.used} style={{backgroundColor:\"white\", border:\"0\",marginTop:180}}>Réserver</button>\r\n                    </form>\r\n                </Paper> */}\r\n            </div>\r\n            {/* <Box style={{marginTop:300}}>    \r\n                <Paper >\r\n                    <Grid container padding={5}>\r\n                        <Grid item xs={12}>\r\n                            <Grid container spacing={4}>\r\n                                <Grid item xs={12} style={{fontWeight:\"bold\"}}>\r\n                                La limite du nombre de places est atteinte! Vous pouvez visiter les stands des différents clubs dans la place de drapeau de la FST lors de la JPO! merci pour votre participation!\r\n                                 </Grid>\r\n                            </Grid> \r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n            </Box> */}\r\n                <Paper style={{minWidth:0,backgroundColor:\"rgba(255,255,255,.1)\"}}>\r\n                    <Grid container padding={5}>\r\n                        <Grid item xs={12}>\r\n                            <input onChange={(e)=>setName(e.target.value)} value={name} name=\"username\" style={{color:\"black\",backgroundColor:\"transparent\" ,border:\"0\",marginTop:80,width:\"100%\", borderBottom: \"2px solid white\"}} placeholder=\"Nom et prénom\"/>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <input onChange={(e)=>checkEmailFun(e.target.value)} value={email} name=\"email\" style={{color:\"black\",backgroundColor:\"transparent\" ,border:\"0\",marginTop:40,width:\"100%\", borderBottom: \"2px solid white\"}} placeholder=\"Email\"/>\r\n                            {email.length>0&&<p style={{fontSize:\"2vh\",alignSelf:\"flex-start\",paddingTop:10, color:etat.used?\"red\":\"green\"}}>{etat.code}.</p>}\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <input onChange={(e)=>setetablissement(e.target.value)} value={etablissement} name=\"etablissement\" style={{backgroundColor:\"transparent\" ,border:\"0\",marginTop:40,width:\"100%\", borderBottom: \"2px solid white\"}} placeholder=\"Etablissement\"/>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <input onChange={(e)=>setclasse(e.target.value)} value={classe} name=\"classe\" style={{backgroundColor:\"transparent\" ,border:\"0\",marginTop:40,width:\"100%\", borderBottom: \"2px solid white\"}} placeholder=\"Classe\"/>\r\n                        </Grid>\r\n                        <Grid item xs={3}>\r\n                            <div style={{color:\"black\",display:\"flex\", flexDirection:\"row\",alignItems:\"flex-start\",marginTop:40}}>\r\n                                <label>Vacciné:</label>\r\n                                <Checkbox onClick={(e)=>setVaccin(!vaccin)} checked={vaccin} name=\"vaccin\" style={{color:\"black\",width:\"100%\"}}/>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                                <label style={{color:\"black\"}}>Veuillez mettre votre certificat de vaccination</label>\r\n                                <input style={{color:\"black\"}} type=\"file\" onChange={(e)=>setVerifVaccine(e.target.files[0])}/>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <button onClick={sendToDataBase} disabled={etat.used||!vaccin||!verificationVaccin} style={{color:\"black\", fontWeight:\"bold\" ,backgroundColor:\"#367be3\", borderRadius:50,marginTop:120,width:\"100%\"}}>Réserver</button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n        </Container>\r\n    )\r\n}\r\n","import * as api from \"../api\"\r\n\r\nexport const newReservation = (reservationData,history) => async (dispatch) => {\r\n    try {\r\n        const {data} = await api.newReservation(reservationData)\r\n        await dispatch({type:\"CREATE_RESERVATION\",payload:data})\r\n        history.push(\"reservation\")\r\n    } catch (error) {\r\n        console.error(error.message)\r\n    }\r\n}\r\nexport const checkEmail = (email) => async (dispatch) => {\r\n    try {\r\n        const {data} = await api.checkEmail(email)\r\n        dispatch({type:\"GOOD_EMAIL\",payload:data})\r\n    } catch (error) {\r\n        const data = error.response.data.error\r\n        await dispatch({type:\"BAD_EMAIL\",payload:data})\r\n    }\r\n}\r\n\r\nexport const getReservations = () => async (dispatch) => {\r\n    try {\r\n        const {data} = await api.getReservations()\r\n        console.log(data)\r\n        dispatch({type:\"ALL_RESERVATIONS\",payload:data})\r\n    } catch (error) {\r\n        console.error(\"error\")\r\n    }\r\n}\r\n\r\nexport const acceptReservation = (code) => async (dispatch) => {\r\n    try {\r\n        const {data} = await api.acceptReservation(code)\r\n        dispatch({type:\"UPDATE_RESERVATIONS\",payload:data})\r\n    } catch (error) {\r\n        console.error(\"an error occured\")\r\n    }\r\n}\r\nexport const refuseReservation = (code) => async (dispatch) => {\r\n    try {\r\n        const {data} = await api.refuseReservation(code)\r\n        dispatch({type:\"UPDATE_RESERVATIONS\",payload:data})\r\n    } catch (error) {\r\n        console.error(\"an error occured\")\r\n    }\r\n}","import React from 'react'\r\nimport qrCode from \"../assets/qrcode.png\"\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\nimport logoFst from \"../assets/logoFst.png\"\r\nimport logoUtm from \"../assets/logoUtm.png\"\r\nimport testQr from \"../assets/qrcode.png\"\r\n\r\nimport Container from '@mui/material/Container';\r\nimport { Grid,Box,Paper} from '@mui/material';\r\nimport { Image } from 'react-bootstrap'\r\nexport default function Reservation() {\r\n    const reservation = useSelector(state => state.reservation)\r\n    return (\r\n        <Container>\r\n            <Grid container spacing={3} alignItems=\"center\">\r\n                <Grid item xs={4}>\r\n                    <img style={{width:\"50%\",height:\"auto\"}} src={logoFst} width={200} height={200}/>\r\n                </Grid>\r\n                <Grid item xs={5}>\r\n                    <div style={{display:\"flex\", flexDirection:\"column\",color:\"white\"}} >\r\n                        <h1 style={{fontSize:\"2.3vw\"}}>Réservation effectué</h1>\r\n                    </div>\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                    <img style={{width:\"50%\",height:\"auto\"}} src={logoUtm} width={200} height={200}/>\r\n                </Grid>\r\n            </Grid>\r\n            <Box>    \r\n                <Paper >\r\n                    <Grid container padding={5}>\r\n                        <Grid item xs={12}>\r\n                            <Grid container spacing={4}>\r\n                                <Grid item xs={12}>\r\n                                    {reservation.name}\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    Votre certificat de vaccination est en cours de vérification, une fois vérifié nous vous enverrons un email contenant votre code de réservation et votre QR code. (Veuillez vérifier votre spam)\r\n                                 </Grid>\r\n                            </Grid> \r\n                        </Grid>\r\n                    </Grid>\r\n                </Paper>\r\n            </Box>\r\n        </Container>\r\n       /*  <div>\r\n            <div style={{color:\"white\", display:\"flex\",flexDirection:\"column\",alignItems:\"center\",marginTop:100}}>\r\n                <h1 style={{fontSize:64}}>Réservation effectuée</h1>\r\n            </div>\r\n           <div style={{width:1072,height:496,backgroundColor:\"white\", opacity:0.74,marginTop:100,display:\"flex\", alignItems:\"center\"}}>\r\n               {reservation&&<Container>\r\n                   <Row>\r\n                       <Col xs={6} style={{paddingLeft:30,display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"}}>\r\n                           <div style={{marginBottom:20}}>\r\n                                {reservation.name}\r\n                           </div>\r\n                           <div style={{marginBottom:20}}>\r\n                                Code: {reservation.code}\r\n                           </div>\r\n                           <div>\r\n                                Vérifier votre email pour télécharger votre QR code.\r\n                           </div>\r\n                       </Col>\r\n                       <Col xs={6} style={{paddingLeft:70 , display:\"flex\",flexDirection:\"column\",alignItems:\"center\"}}>\r\n                           <div style={{marginBottom:20}}>\r\n                                <Image src={`/codes/${reservation.code}.png`} rounded  />\r\n                           </div>\r\n                           <div>\r\n                                <button style={{backgroundColor:\"white\", border:\"0\"}}>Télecharger</button>\r\n                            </div>\r\n                       </Col>\r\n                   </Row>\r\n               </Container>}\r\n           </div>\r\n        </div> */\r\n    )\r\n}\r\n","import React,{useEffect} from 'react'\r\n\r\nimport {useDispatch,useSelector} from \"react-redux\"\r\n\r\nimport { getReservations,acceptReservation,refuseReservation } from '../actions/reservations'\r\n\r\n\r\nimport { styled } from '@mui/material/styles';\r\nimport {TableContainer,Paper,Table,TableHead,TableRow,TableBody,TableCell,tableCellClasses, Button} from \"@mui/material\"\r\n\r\n\r\n\r\nexport default function CheckReservations() {\r\n    \r\n    const allReservations = useSelector(state => state.allReservations)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(getReservations())\r\n    }, [])\r\n\r\n\r\n    const StyledTableCell = styled(TableCell)(({ theme }) => ({\r\n        [`&.${tableCellClasses.head}`]: {\r\n          backgroundColor: theme.palette.common.black,\r\n          color: theme.palette.common.white,\r\n        },\r\n        [`&.${tableCellClasses.body}`]: {\r\n          fontSize: 14,\r\n        },\r\n      }));\r\n      \r\n      const StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n        '&:nth-of-type(odd)': {\r\n          backgroundColor: theme.palette.action.hover,\r\n        },\r\n        // hide last border\r\n        '&:last-child td, &:last-child th': {\r\n          border: 0,\r\n        },\r\n      }));\r\n      \r\n    const handleOpenCerteficate = (certeficate) => {\r\n        window.open(`/certeficates/${certeficate}`, '_blank').focus()\r\n    }\r\n    return (\r\n        <div>\r\n            <TableContainer component={Paper}>\r\n            <Table sx={{ minWidth: 700 }} aria-label=\"customized table\">\r\n            <TableHead>\r\n                <TableRow>\r\n                <StyledTableCell>Code</StyledTableCell>\r\n                <StyledTableCell align=\"left\">Nom et prénom</StyledTableCell>\r\n                <StyledTableCell align=\"left\">Email</StyledTableCell>\r\n                <StyledTableCell align=\"left\">Etablissement</StyledTableCell>\r\n                <StyledTableCell align=\"left\">Classe</StyledTableCell>\r\n                <StyledTableCell align=\"left\">Voir certeficat de vaccination</StyledTableCell>\r\n                <StyledTableCell align=\"left\">Accepter/Refuser</StyledTableCell>\r\n                </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n                {allReservations.map((row,index) => (\r\n                    <StyledTableRow key={index}>\r\n                        <StyledTableCell component=\"th\" scope=\"row\">\r\n                        {row.code}\r\n                        </StyledTableCell>\r\n                        <StyledTableCell align=\"left\">{row.name}</StyledTableCell>\r\n                        <StyledTableCell align=\"left\">{row.email}</StyledTableCell>\r\n                        <StyledTableCell align=\"left\">{row.etablissement}</StyledTableCell>\r\n                        <StyledTableCell align=\"left\">{row.classe}</StyledTableCell>\r\n                        <StyledTableCell align=\"center\"><Button onClick={()=>handleOpenCerteficate(row.vaccineCerteficate)}>voir certeficat</Button></StyledTableCell>\r\n\r\n                        {!row.accepted?<StyledTableCell align=\"left\"><Button onClick={()=>dispatch(acceptReservation({code:row.code}))}>Accepter</Button></StyledTableCell>:\r\n                        <StyledTableCell align=\"left\"><Button onClick={()=>dispatch(refuseReservation({code:row.code}))}>Refuser</Button></StyledTableCell>}\r\n                    </StyledTableRow>\r\n                ))}\r\n            </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n        </div>\r\n    )\r\n}\r\n","import {HashRouter as Router,Switch,Route,Link} from \"react-router-dom\"\nimport Main from \"./pages/Main\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Reservation from \"./pages/Reservation\";\nimport { BreakpointProvider } from 'react-socks';\nimport CheckReservations from \"./pages/CheckReservations\";\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <BreakpointProvider>\n          <Route path=\"/\" exact><Main/></Route>\n          <Route path=\"/reservation\" exact><Reservation/></Route>\n          <Route path=\"/20101999CheckReservations20101999\" exact><CheckReservations/></Route>\n        </BreakpointProvider>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reservation = (state = null,action) => {\r\n\r\n    switch (action.type) {\r\n        case \"CREATE_RESERVATION\":\r\n            return action.payload\r\n        case \"RESET\":\r\n            state = null\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reservation","const etat = (state = {code:\"email invalide\",used:true},action) => {\r\n\r\n    switch (action.type) {\r\n        case \"GOOD_EMAIL\":\r\n            state={code:\"email valide\",used:false}\r\n            return state\r\n        case \"BAD_EMAIL\":\r\n            console.log(action.payload)\r\n            state={code:action.payload,used:true}\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default etat","const allReservations = (state = [],action) => {\r\n\r\n    switch (action.type) {\r\n        case \"ALL_RESERVATIONS\":\r\n            return action.payload\r\n        case \"UPDATE_RESERVATIONS\":\r\n            state = state.map((val,index)=>{\r\n                if(val.code==action.payload.code)\r\n                    return action.payload\r\n            })\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default allReservations","import { combineReducers } from \"redux\";\r\n\r\nimport reservation from \"./reservation\";\r\nimport etat from \"./checkEmail\";\r\nimport allReservations from \"./allReservations\"\r\nexport default combineReducers({\r\n    reservation,\r\n    etat,\r\n    allReservations\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport {Provider} from \"react-redux\"\nimport {createStore,applyMiddleware,compose} from \"redux\"\n\nimport thunk from \"redux-thunk\"\n\nimport reducers from \"./reducers\"\n\nconst store = createStore(reducers,compose(applyMiddleware(thunk)))\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}